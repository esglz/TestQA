{
	"info": {
		"_postman_id": "eaef8076-9942-4f1c-a4a7-3c8cbc03bd3c",
		"name": "Ejercicio N1 Falabella",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "http://www.mocky.io/v2/5dd99c4c3200006f009a881b",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "400622be-81e9-4baf-85d2-4d6380a00158",
						"exec": [
							"//Válidación estructura y Schema de JSON",
							"const schemaJSON = {",
							"   \"type\": \"object\",",
							"     \"properties\": {  ",
							"        \"Dato_cliente\": {\"$ref\": \"Dato_cliente\"},",
							"        \"Dato_perfil\":{\"$ref\": \"Dato_perfil\"},",
							"        \"Dato_Sucursal\":{\"$ref\": \"Dato_Sucursal\"},",
							"        \"Dato_productos\":{\"$ref\": \"Dato_productos\"},",
							"        \"Datos_seguros\":{\"$ref\": \"Datos_seguros\"},",
							"        \"Datos_fondos\":{\"$ref\": \"Datos_fondos\"},",
							"        \"Datos_penalizaciones\":{\"$ref\": \"Datos_penalizaciones\"}",
							"     }",
							"};",
							"",
							"var Dato_cliente = {",
							"   \"properties\": {",
							"       \"Nombre\": { \"type\": \"string\" },",
							"\t   \"Apellido\" : { \"type\": \"string\" },",
							"\t   \"Direccion\" : { \"type\": \"string\" },",
							"\t   \"Email\" : { \"type\": \"string\" },",
							"       \"Telefono\": { \"type\": \"integer\" },",
							"       \"RUT\": { \"type\": \"integer\" }       ",
							"   }",
							"};",
							"",
							"var Dato_perfil = {",
							"   \"properties\": {",
							"       \"Cuenta_ppal\": { \"type\": \"integer\" },",
							"       \"Tipo_cliente\": { \"type\": \"string\" },",
							"\t   \"Tarjeta_debito\": { \"type\": \"integer\" }     ",
							"   }",
							"};",
							"",
							"var Dato_Sucursal = {",
							"   \"properties\": {",
							"       \"Sucursal_nro\": { \"type\": \"integer\" },",
							"       \"Ejecutivo\": { \"type\": \"string\" },",
							"\t   \"Telefono_ejec\": { \"type\": \"integer\" },     ",
							"\t   \"Direccion_suc\": { \"type\": \"string\" }     ",
							"   }",
							"};",
							"",
							"var Dato_productos = {",
							"   \"properties\": {",
							"       \"Tiene_prod\": { \"type\": \"boolean\" },",
							"       \"Tipo_producto\": { ",
							"\t\t\t\"type\": \"array\",",
							"\t\t\t\"items\": { \"type\": \"string\" }",
							"\t\t\t},",
							"\t   \"Puntos\": { \"type\": \"integer\" },   ",
							"\t   \"Tarjeta_credito\": { \"type\": \"integer\" }     ",
							"   }",
							"};",
							"",
							"var Datos_seguros = {",
							"   \"properties\": {",
							"       \"Tiene_prod\": { \"type\": \"boolean\" },",
							"\t   \"SOAP\":\"stringValue\",",
							"\t   \"Seguro_vehiculo\": { \"type\": \"string\" },",
							"\t   \"Seguro_fraude\": { \"type\": \"string\" },",
							"\t   \"Seguro_hogar\": { \"type\": \"string\" },",
							"\t   \"Seguro_vida\": { \"type\": \"string\" }          ",
							"   }",
							"};",
							"",
							"var Datos_fondos = {",
							"   \"properties\": {",
							"       \"Fondo_mutual\": { \"type\": \"string\" },",
							"       \"Ahorro_previsional\": { \"type\": \"integer\" },",
							"\t   \"ctaRentaDiaria\": { \"type\": \"string\" }   ",
							"\t}",
							"};",
							"",
							"var Datos_penalizaciones = {",
							"   \"properties\": {",
							"       \"InteresesMora_Sobregiro\": { \"type\": \"integer\" },",
							"       \"InteresMora_TarjetaCredito\": { \"type\": \"integer\" },",
							"       \"InteresMora_Consumo\": { \"type\": \"integer\" },",
							"       \"InteresMora_Hipotecario\": { \"type\": \"integer\" },",
							"\t        ",
							"\t}",
							"",
							"};",
							"",
							"//Validación Estructura Json",
							"var jsonData = JSON.parse(responseBody);",
							"tests[\"Schema JSON OK\"] = tv4.validate(jsonData, schemaJSON);",
							"",
							"",
							"//Validación status code 200",
							"pm.test(\"Código de respuesta 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"//Validación tipo de datos",
							"var body = JSON.parse(responseBody);",
							"",
							"    //NUMBER",
							"    tests[\"Dato cliente - Telefono es number\"] = typeof(body.Dato_cliente.Telefono) === \"number\";",
							"    tests[\"Dato cliente - RUT es number\"] = typeof(body.Dato_cliente.RUT) === \"number\";",
							"    tests[\"Dato Pérfil - Cuenta ppal es number\"] = typeof(body.Dato_perfil.Cuenta_ppal) === \"number\";",
							"    tests[\"Dato Pérfil - Tarjeta de debito es number\"] = typeof(body.Dato_perfil.Tarjeta_debito) === \"number\";",
							"    tests[\"Dato Sucursal - Surcursal nro es number\"] = typeof(body.Dato_Sucursal.Sucursal_nro) === \"number\";",
							"    tests[\"Dato Sucursal - Telefono ejec es number\"] = typeof(body.Dato_Sucursal.Telefono_ejec) === \"number\";",
							"    tests[\"Dato Productos - Puntos es number\"] = typeof(body.Dato_productos.Puntos) === \"number\";",
							"    tests[\"Dato Productos - Tarjeta crédito es number\"] = typeof(body.Dato_productos.Tarjeta_credito) === \"number\";",
							"    tests[\"Dato Fondos - Ahorro_previsional es number\"] = typeof(body.Datos_fondos.Ahorro_previsional) === \"number\";",
							"    tests[\"Datos Penalizaciones - InteresesMora_Sobregiro es number\"] = typeof(body.Datos_penalizaciones.InteresesMora_Sobregiro) === \"number\";",
							"    tests[\"Datos Penalizaciones - InteresMora_TarjetaCredito es number\"] = typeof(body.Datos_penalizaciones.InteresMora_TarjetaCredito) === \"number\";",
							"    tests[\"Datos Penalizaciones - InteresMora_Consumo es number\"] = typeof(body.Datos_penalizaciones.InteresMora_Consumo) === \"number\";",
							"    tests[\"Datos Penalizaciones - InteresMora_Hipotecario es number\"] = typeof(body.Datos_penalizaciones.InteresMora_Hipotecario) === \"number\";",
							"",
							"    //STRING",
							"    tests[\"Dato cliente - Nombre es string\"] = typeof(body.Dato_cliente.Nombre) === \"string\"; ",
							"    tests[\"Dato cliente - Apellido es string\"] = typeof(body.Dato_cliente.Apellido) === \"string\"; ",
							"    tests[\"Dato cliente - Dirección es string\"] = typeof(body.Dato_cliente.Direccion) === \"string\"; ",
							"    tests[\"Dato cliente - Email es string\"] = typeof(body.Dato_cliente.Email) === \"string\"; ",
							"    tests[\"Dato perfil - Tipo cliente\"] = typeof(body.Dato_perfil.Tipo_cliente) === \"string\";",
							"    tests[\"Dato sucursal - Ejecutivo es string\"] = typeof(body.Dato_Sucursal.Ejecutivo) === \"string\";",
							"    tests[\"Dato sucursal - Dirección sucursal es string\"] = typeof(body.Dato_Sucursal.Direccion_suc) === \"string\";",
							"    tests[\"Dato seguros - SOAP es string\"] = typeof(body.Datos_seguros.SOAP) === \"string\";",
							"    tests[\"Dato seguros - Seguro vehiculo es string\"] = typeof(body.Datos_seguros.Seguro_vehiculo) === \"string\";",
							"    tests[\"Dato seguros - Seguro fraude es string\"] = typeof(body.Datos_seguros.Seguro_fraude) === \"string\";",
							"    tests[\"Dato seguros - Seguro hogar es string\"] = typeof(body.Datos_seguros.Seguro_hogar) === \"string\";",
							"    tests[\"Dato seguros - Seguro vida es string\"] = typeof(body.Datos_seguros.Seguro_vida) === \"string\";",
							"    tests[\"Dato fondos - Fondo mutual es string\"] = typeof(body.Datos_fondos.Fondo_mutual) === \"string\";",
							"    tests[\"Dato fondos - Cuenta renta diaria es string\"] = typeof(body.Datos_fondos.ctaRentaDiaria) === \"string\";",
							"    ",
							"    //BOOLEAN",
							"    tests[\"Dato productos - Tiene producto es boolean\"] = typeof(body.Dato_productos.Tiene_prod) === \"boolean\";",
							"    tests[\"Datos seguros - Tiene producto es boolean\"] = typeof(body.Datos_seguros.Tiene_prod) === \"boolean\";",
							"",
							"",
							"",
							"//Validación mensaje OK",
							"pm.test(\"Mensaje OK\", function () {",
							"pm.response.to.be.ok;",
							"});",
							"",
							"//Validación formato Json",
							"pm.test(\"Formato JSON OK\", function () {",
							"pm.response.to.be.json;",
							"});",
							"",
							"",
							"",
							"",
							"",
							"",
							"",
							"",
							"",
							"",
							"",
							"",
							"",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://www.mocky.io/v2/5dd99c4c3200006f009a881b",
					"protocol": "http",
					"host": [
						"www",
						"mocky",
						"io"
					],
					"path": [
						"v2",
						"5dd99c4c3200006f009a881b"
					]
				}
			},
			"response": []
		}
	],
	"protocolProfileBehavior": {}
}